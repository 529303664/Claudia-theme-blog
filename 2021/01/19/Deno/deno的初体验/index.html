<!DOCTYPE html><html class="appearance-auto" lang="zh-cn"><head><meta charset="UTF-8"><title>denoçš„åˆä½“éªŒ</title><meta name="description" content="å®Œå–„è‡ªå·±"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><link rel="icon"><link rel="stylesheet" href="/My-Blogs/style/bulma.css"><link rel="stylesheet" href="/My-Blogs/style/base.css"><link rel="stylesheet" href="/My-Blogs/style/helper.css"><script src="/My-Blogs/js/main.js"></script><link rel="stylesheet" href="/My-Blogs/style/post.css"><link rel="stylesheet" href="/My-Blogs/style/highlight-theme-light.css"><script src="/My-Blogs/jslib/highlight.pack.js"></script><meta name="generator" content="Hexo 5.2.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/My-Blogs/atom.xml" title="John Doe's blog" type="application/atom+xml">
</head><body class="is-flex is-flex-direction-column"><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-space-between is-hidden-mobile"><section class="is-hidden-mobile"><h2><a href="/My-Blogs/">Lucas's blog</a></h2></section><h3 class="is-hidden-mobile"></h3><aside><h3 class="is-inline-block"><a href="/My-Blogs/">Home</a></h3><h3 class="is-inline-block"><a href="/My-Blogs/about">About</a></h3><h3 class="is-inline-block"><a href="/My-Blogs/archives">Archives</a></h3></aside></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/My-Blogs/">Home</a></h3><h3 class="is-inline-block"><a href="/My-Blogs/about">About</a></h3><h3 class="is-inline-block"><a href="/My-Blogs/archives">Archives</a></h3></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Deno"><span class="toc-text">Deno</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%8E%9F%E7%94%B1"><span class="toc-text">åˆ›å»ºåŸç”±</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Feature"><span class="toc-text">Feature</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%98%E5%8A%BF"><span class="toc-text">ä¼˜åŠ¿</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8D%E8%B6%B3"><span class="toc-text">ä¸è¶³</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CLI"><span class="toc-text">CLI</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#permission"><span class="toc-text">permission</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#WebAssembly"><span class="toc-text">WebAssembly</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93"><span class="toc-text">ç¬¬ä¸‰æ–¹åº“</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Installation"><span class="toc-text">Installation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Getting-Started"><span class="toc-text">Getting Started</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90"><span class="toc-text">ä¾‹å­</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E7%9B%AE%E5%BD%95"><span class="toc-text">ç¼“å­˜ç›®å½•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#gen"><span class="toc-text">gen&#x2F;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#deps"><span class="toc-text">deps&#x2F;</span></a></li></ol></li></ol></div><div class="column is-9"><header class="my-4"><a href="/My-Blogs/tags/deno"><i class="tag post-item-tag">deno</i></a></header><h1 class="mt-0 mb-1 is-family-serif">denoçš„åˆä½“éªŒ</h1><time class="has-text-grey" datetime="2021-01-19T18:40:52.000Z">2021-01-19</time><article class="mt-2 post-content"><p>è¿™æ˜¯ä¸€ç¯‡å…³äºdenoåˆä½“éªŒæ–‡ç« </p>
<a id="more"></a>

<h2 id="Deno"><a href="#Deno" class="headerlink" title="Deno"></a><a target="_blank" rel="noopener" href="https://deno.land/">Deno</a></h2><p>A <code>secure</code> runtime for JavaScript and TypeScriptã€‚ç”±Ryan Dahlï¼ˆNode.js çš„åˆ›å§‹äººä¹‹ä¸€ï¼‰åœ¨2017å¹´åˆ›å»ºï¼ŒRust è¯­è¨€å¼€å‘ã€‚ <code>deno</code> éŸ³è¯‘å¸è¯ºï¼Œæé¾™(dinosaur)çš„ç®€ç§°ï¼Œdeno è¿™ä¸ªåå­—å°±æ˜¯æ¥è‡ª Node çš„å­—æ¯é‡æ–°ç»„åˆï¼ˆNode = no + deï¼‰ï¼Œè¡¨ç¤ºâ€æ‹†é™¤ Node.jsâ€ï¼ˆde = destroy, no = Node.jsï¼‰ã€‚</p>
<h2 id="åˆ›å»ºåŸç”±"><a href="#åˆ›å»ºåŸç”±" class="headerlink" title="åˆ›å»ºåŸç”±"></a>åˆ›å»ºåŸç”±</h2><ul>
<li>Node.js Callback hellã€‚</li>
<li>åŸç”Ÿæ”¯æŒCommonJsï¼Œå¯¹ESæ¨¡å—ä¸å…¼å®¹ã€‚</li>
<li>npm(ä½ æ€•å—)æ¨¡å—ç®¡ç†å·¥å…·ï¼Œnpm_modules æå…¶åºæ‚ï¼Œè¿˜æœ‰Dependency Hellï¼Œç‰ˆæœ¬é‡å¤é—®é¢˜ç­‰é—®é¢˜ï¼Œæéš¾ç®¡ç†ã€‚è¯¦æƒ…å¯æŸ¥çœ‹<a target="_blank" rel="noopener" href="https://juejin.cn/post/6914508615969669127">node_modules å›°å¢ƒ</a></li>
<li>åŠŸèƒ½ä¸å®Œæ•´ï¼Œè¦å­¦ä¹ å¾ˆå¤šå¤–éƒ¨å·¥å…·ï¼Œè¯¸å¦‚webpackï¼Œbabelï¼Œtypescriptã€eslintã€prettierâ€¦â€¦</li>
</ul>
<blockquote>
<p><em>â€œç”±äºä¸Šé¢è¿™äº›åŸå› ï¼ŒRyan Dahl å†³å®šæ”¾å¼ƒ Node.jsï¼Œä»å¤´å†™ä¸€ä¸ªæ›¿ä»£å“ï¼Œå½»åº•è§£å†³è¿™äº›é—®é¢˜ã€‚deno è¿™ä¸ªåå­—å°±æ˜¯æ¥è‡ª Node çš„å­—æ¯é‡æ–°ç»„åˆï¼ˆNode = no + deï¼‰ï¼Œè¡¨ç¤ºâ€æ‹†é™¤ Node.jsâ€ï¼ˆde = destroy, no = Node.jsï¼‰ã€‚<br>è·Ÿ Node.js ä¸€æ ·ï¼ŒDeno ä¹Ÿæ˜¯ä¸€ä¸ªæœåŠ¡å™¨è¿è¡Œæ—¶ï¼Œä½†æ˜¯æ”¯æŒå¤šç§è¯­è¨€ï¼Œå¯ä»¥ç›´æ¥è¿è¡Œ JavaScriptã€TypeScript å’Œ WebAssembly ç¨‹åºã€‚<br>å®ƒå†…ç½®äº† V8 å¼•æ“ï¼Œç”¨æ¥è§£é‡Š JavaScriptã€‚åŒæ—¶ï¼Œä¹Ÿå†…ç½®äº† tsc å¼•æ“ï¼Œè§£é‡Š TypeScriptã€‚å®ƒä½¿ç”¨ Rust è¯­è¨€å¼€å‘ï¼Œç”±äº Rust åŸç”Ÿæ”¯æŒ WebAssemblyï¼Œæ‰€ä»¥å®ƒä¹Ÿèƒ½ç›´æ¥è¿è¡Œ WebAssemblyã€‚å®ƒçš„å¼‚æ­¥æ“ä½œä¸ä½¿ç”¨ libuv è¿™ä¸ªåº“ï¼Œè€Œæ˜¯ä½¿ç”¨ Rust è¯­è¨€çš„ Tokio åº“ï¼Œæ¥å®ç°äº‹ä»¶å¾ªç¯ï¼ˆevent loopï¼‰ã€‚â€</em>â€” å‡ºè‡ªé˜®ä¸€å³°å¤§ç¥ã€Š<a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2020/01/deno-intro.html">Deno è¿è¡Œæ—¶å…¥é—¨æ•™ç¨‹ï¼šNode.js çš„æ›¿ä»£å“</a>ã€‹</p>
</blockquote>
<p><strong>é—²è¨€å°‘å™ï¼Œä¹¦å½’æ­£ä¼ ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹Denoçš„ç‰¹æ€§å§ã€‚</strong></p>
<h2 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h2><ul>
<li>æœåŠ¡å™¨è¿è¡Œæ—¶ï¼Œæ”¯æŒå¤šç§è¯­è¨€ï¼Œå¯ç›´æ¥è¿è¡Œ <code>JavaScript</code>ã€<code>TypeScript</code> å’Œ <code>WebAssembly</code> ç¨‹åºã€‚</li>
<li>å…·æœ‰å®‰å…¨æ§åˆ¶ï¼Œé»˜è®¤æƒ…å†µä¸‹è„šæœ¬ä¸å…·æœ‰è¯»å†™æƒé™ã€‚å¦‚æœè„šæœ¬æœªæˆæƒï¼Œå°±è¯»å†™æ–‡ä»¶ç³»ç»Ÿæˆ–ç½‘ç»œï¼Œä¼šæŠ¥é”™ã€‚</li>
<li>åªæœ‰ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ‰€æœ‰æ“ä½œéƒ½é€šè¿‡è¿™ä¸ªæ–‡ä»¶å®Œæˆã€‚å®ƒæ”¯æŒè·¨å¹³å°ï¼ˆMacã€Linuxã€Windowsï¼‰ã€‚</li>
<li>å¼‚æ­¥æ“ä½œ ä¸€å¾‹è¿”å› Promiseã€‚</li>
<li>Deno æ”¯æŒ Web APIï¼Œå°½é‡è·Ÿæµè§ˆå™¨ä¿æŒä¸€è‡´ã€‚<code>window</code>ã€<code>fetch</code>ã€<code>webCrypto</code>ã€<code>worker</code>, ä¹Ÿæ”¯æŒ <code>onload</code>ã€<code>onunload</code>ã€<code>addEventListener</code> ç­‰äº‹ä»¶æ“ä½œå‡½æ•°ã€‚</li>
<li>æ‰€æœ‰æ¨¡å—é€šè¿‡ URL åŠ è½½ï¼Œæ¯”å¦‚<code>import { bar } from "https://foo.com/bar.ts"</code>ï¼ˆç»å¯¹ URLï¼‰æˆ–<code>import { bar } from './foo/bar.ts'</code>ï¼ˆç›¸å¯¹ URLï¼‰ã€‚æœ¬åœ°ç¼“å­˜ï¼Œæœ‰ä¸ªCacheæ€»ç›®å½•</li>
<li>åŸç”Ÿæ”¯æŒTypeScript, å†…ç½®<a target="_blank" rel="noopener" href="https://github.com/microsoft/TypeScript">TypeScriptç¼–è¯‘å™¨</a>å’Œ<a target="_blank" rel="noopener" href="https://swc.rs/">swc</a>çš„Ruståº“ç»„åˆå®ç°ã€‚</li>
<li>å†…ç½®å„ç§åŠŸèƒ½ï¼Œæ— éœ€å¤–éƒ¨å·¥å…·ã€‚</li>
<li>æ‰“åŒ…ã€æ ¼å¼æ¸…ç†ã€æµ‹è¯•ã€å®‰è£…ã€æ–‡æ¡£ç”Ÿæˆã€lintingã€è„šæœ¬ç¼–è¯‘æˆå¯æ‰§è¡Œæ–‡ä»¶ç­‰ä¸€æ¡é¾™æœåŠ¡ã€‚</li>
</ul>
<h2 id="ä¼˜åŠ¿"><a href="#ä¼˜åŠ¿" class="headerlink" title="ä¼˜åŠ¿"></a>ä¼˜åŠ¿</h2><ul>
<li>é«˜æ•ˆä¸”å®‰å…¨</li>
<li>å•æ–‡ä»¶ï¼Œå…¼å®¹æµè§ˆå™¨æ ‡å‡†ï¼Œä½“ç§¯å°ã€‚</li>
<li>æ›¿ä»£è„šæœ¬</li>
</ul>
<h2 id="ä¸è¶³"><a href="#ä¸è¶³" class="headerlink" title="ä¸è¶³"></a>ä¸è¶³</h2><ul>
<li>ç¼ºå°‘é›†å¤§æˆæ¡†æ¶ï¼Œæ»¡è¶³ä¸äº†ä¼ä¸šçº§åº”ç”¨å¼€å‘ã€‚</li>
<li>å…·æœ‰å®‰å…¨æ§åˆ¶ï¼Œæ˜¾ç¤ºæ‰“å¼€æƒé™æ–¹å¯ä½¿ç”¨ã€‚</li>
<li>ç¤¾åŒºè¿˜ä¸å®Œå–„ã€‚</li>
</ul>
<h2 id="CLI"><a href="#CLI" class="headerlink" title="CLI"></a><a target="_blank" rel="noopener" href="https://deno.land/manual@v1.7.0/getting_started/command_line_interface">CLI</a></h2><h2 id="permission"><a href="#permission" class="headerlink" title="permission"></a><a target="_blank" rel="noopener" href="https://deno.land/manual@v1.7.0/getting_started/permissions">permission</a></h2><h2 id="WebAssembly"><a href="#WebAssembly" class="headerlink" title="WebAssembly"></a><a target="_blank" rel="noopener" href="https://deno.land/manual@v1.7.0/getting_started/webassembly#webassembly-support">WebAssembly</a></h2><pre><code class="JS">const wasmCode = new Uint8Array([
  0, 97, 115, 109, 1, 0, 0, 0, 1, 133, 128, 128, 128, 0, 1, 96, 0, 1, 127,
  3, 130, 128, 128, 128, 0, 1, 0, 4, 132, 128, 128, 128, 0, 1, 112, 0, 0,
  5, 131, 128, 128, 128, 0, 1, 0, 1, 6, 129, 128, 128, 128, 0, 0, 7, 145,
  128, 128, 128, 0, 2, 6, 109, 101, 109, 111, 114, 121, 2, 0, 4, 109, 97,
  105, 110, 0, 0, 10, 138, 128, 128, 128, 0, 1, 132, 128, 128, 128, 0, 0,
  65, 42, 11
]);
const wasmModule = new WebAssembly.Module(wasmCode);
const wasmInstance = new WebAssembly.Instance(wasmModule);
const main = wasmInstance.exports.main as CallableFunction
console.log(main().toString());</code></pre>
<h2 id="ç¬¬ä¸‰æ–¹åº“"><a href="#ç¬¬ä¸‰æ–¹åº“" class="headerlink" title="ç¬¬ä¸‰æ–¹åº“"></a><a target="_blank" rel="noopener" href="https://deno.land/x">ç¬¬ä¸‰æ–¹åº“</a></h2><h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><p>Shell (Mac, Linux):</p>
<pre><code class="BASH">curl -fsSL https://deno.land/x/install/install.sh | sh</code></pre>
<p>PowerShell (Windows):</p>
<pre><code class="BASH">iwr https://deno.land/x/install/install.ps1 -useb | iex</code></pre>
<p>Using Homebrew (macOS):</p>
<pre><code class="BASH">brew install deno</code></pre>
<h3 id="Getting-Started"><a href="#Getting-Started" class="headerlink" title="Getting Started"></a>Getting Started</h3><p>Try running a simple program:</p>
<pre><code class="BASH">deno run https://deno.land/std/examples/welcome.ts</code></pre>
<p>Or a more complex one:</p>
<pre><code class="JS">import {
  serve
} from "https://deno.land/std@0.83.0/http/server.ts";
const s = serve({
  port: 8000
});
console.log("http://localhost:8000/");
for await (const req of s) {
  req.respond({
    body: "Hello World\n"
  });
}</code></pre>
<h3 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a><a target="_blank" rel="noopener" href="https://deno.land/std@0.84.0">ä¾‹å­</a></h3><h2 id="ç¼“å­˜ç›®å½•"><a href="#ç¼“å­˜ç›®å½•" class="headerlink" title="ç¼“å­˜ç›®å½•"></a>ç¼“å­˜ç›®å½•</h2><p>ä»¥Macä¸ºä¾‹ï¼Œä¸¾ä¸ªğŸŒ° </p>
<pre><code class="BASH"> $HOME/Library/Caches/Deno
#  è¿œç¨‹åº“ä¸‹è½½åœ°å€
deno run https://deno.land/std@0.83.0/examples/welcome.ts
# DIRECTORIES
gen/: ç¼“å­˜ç¼–è¯‘ä¸ºJavaScriptçš„æ–‡ä»¶
deps/: ç¼“å­˜å¯¼å…¥çš„è¿œç¨‹urlçš„æ–‡ä»¶
  |__ http/: httpæ–¹å¼å¯¼å…¥çš„æ–‡ä»¶
  |__ https/: httpsæ–¹å¼å¯¼å…¥çš„æ–‡ä»¶

# FILES
deno_history.txt: Deno REPLå†å²è®°å½•ç¼“å­˜</code></pre>
<h3 id="gen"><a href="#gen" class="headerlink" title="gen/"></a>gen/</h3><p><code>$DENO_DIR/gen/</code> è¢«ç”¨æ¥å­˜æ”¾ JavaScript æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶æ˜¯ä» TypeScript æºç ç¼–è¯‘æ¥çš„ã€‚è¿™æ ·çš„ç¼–è¯‘æ˜¯å¿…è¦çš„ï¼Œå› ä¸º V8 ä¸è¯†åˆ« JS å­é›†ä¹‹å¤–çš„ TypeScript è¯­æ³•ã€‚</p>
<p>gen/ç›®å½•ä¸‹çš„æ¯ä¸€ä¸ª JS æ–‡ä»¶çš„æ–‡ä»¶åæ˜¯ä»–çš„ TypeScript æºç çš„ hash å€¼ã€‚åŒæ—¶ JS æ–‡ä»¶ä¹Ÿå¯¹åº”ä¸€ä¸ª .map ä¸ºåç¼€çš„ source map æ–‡ä»¶ã€‚</p>
<p>ç¼“å­˜å­˜åœ¨çš„åŸå› æ˜¯ä¸ºäº†é¿å…åœ¨ç”¨æˆ·æ²¡æœ‰ä¿®æ”¹ä»£ç çš„æƒ…å†µä¸‹ï¼Œæ¯æ¬¡è¿è¡Œæ—¶ä¸æ–­çš„é‡æ–°ç¼–è¯‘æ–‡ä»¶ã€‚æ¯”å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ª hello-world.ts æ–‡ä»¶ï¼Œä»–åªæ˜¯åŒ…å«äº†ä»£ç  console.log(â€œHello worldâ€)ã€‚åœ¨ç¬¬ä¸€æ¬¡è¿è¡Œæ—¶ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°ç¼–è¯‘ä¿¡æ¯ï¼š</p>
<pre><code class="BASH">$ deno hello-world.ts
Compiling /Users/kevinqian/my-folder/hello-world.ts
Hello world</code></pre>
<p>ä½†æ˜¯åœ¨æ²¡æœ‰ä¿®æ”¹æ–‡ä»¶å†…å®¹çš„æƒ…å†µä¸‹ï¼Œå½“ä½ é‡æ–°è¿è¡Œä»£ç ï¼š</p>
<pre><code class="BASH">$ deno hello-world.ts
Hello world</code></pre>
<p>ä¸ä¼šå†æœ‰ç¼–è¯‘ä¿¡æ¯çš„æç¤ºã€‚è¿™æ˜¯å› ä¸ºåœ¨è¿™ä¸€æ¬¡è¿è¡Œä¸­ï¼ŒDeno ç›´æ¥ä½¿ç”¨äº† gen/ ä¸­ç¼“å­˜çš„ç‰ˆæœ¬ï¼Œè€Œä¸ç”¨å†æ¬¡ç¼–è¯‘ã€‚</p>
<p>ç¼“å­˜åŠ è½½å’Œä¿å­˜çš„ä»£ç ï¼Œå¯ä»¥ä»æ–‡ä»¶ src/deno_dir.rs ä¸­çš„ DenoDir::load_cache å’Œ DenoDir::code_cache ä¸­æ‰¾åˆ°ã€‚</p>
<p>å¦‚æœæƒ³è¦å¼ºåˆ¶ Deno é‡æ–°ç¼–è¯‘ä½ çš„ä»£ç è€Œä¸æ˜¯ä½¿ç”¨ç¼“å­˜çš„ç‰ˆæœ¬ï¼Œä½ éœ€è¦ä½¿ç”¨ <code>--recompile</code> æ ‡å¿—ã€‚</p>
<h3 id="deps"><a href="#deps" class="headerlink" title="deps/"></a>deps/</h3><p><code>$DENO_DIR/deps</code> è¢«ç”¨æ¥ä¿å­˜è¿œç«¯ url import è·å¾—çš„æ–‡ä»¶ã€‚æ ¹æ® url çš„æ¨¡å¼ï¼Œä»–åŒ…å«äº†å­ç›®å½•ï¼ˆç°åœ¨åªæœ‰httpå’Œhttpsï¼‰ï¼Œå¹¶ä¸”ä¿å­˜æ–‡ä»¶çš„ä½ç½®ç”± URL path å†³å®šã€‚æ¯”å¦‚ï¼Œå¯¹äºä¸‹é¢çš„çš„ importï¼ˆè¯·æ³¨æ„ï¼ŒDeno è¦æ±‚ç”¨æˆ·æ˜¾å¼åœ°æŒ‡å®šæ‰©å±•åï¼‰ã€‚</p>
<pre><code class="JS">import {
  serve
} from "https://deno.land/x/std/net/http.ts";</code></pre>
<p>ä¸‹è½½çš„http.tsæ–‡ä»¶å°†ä¼šè¢«å­˜å‚¨åœ¨ï¼š</p>
<pre><code class="BASH">$DENO_DIR/deps/https/deno.land/x/std/net/http.ts</code></pre>
<p>éœ€è¦æ³¨æ„ï¼Œé™¤éç”¨æˆ·ç”¨ <code>--reload</code> æ ‡å¿—è¿è¡Œä»£ç ï¼Œå¦åˆ™æˆ‘ä»¬çš„http.tsæ–‡ä»¶åœ¨æ¥ä¸‹æ¥çš„è¿è¡Œä¸­ä¸ä¼šè¢«é‡æ–°ä¸‹è½½ã€‚</p>
<p>å½“å‰ï¼ˆè­¦å‘Šï¼šå°†æ¥å¯èƒ½æ”¹å˜ï¼‰ï¼ŒDeno ä¼šå…³æ³¨ä»è¿œç«¯ä¸‹è½½çš„æ–‡ä»¶çš„å†…å®¹çš„ MIME ç±»å‹ã€‚åœ¨æ–‡ä»¶ç¼ºå°‘æ‰©å±•åæˆ–æ‰©å±•åä¸å†…å®¹ç±»å‹ä¸åŒ¹é…çš„æƒ…å†µä¸‹ï¼ŒDeno å°†åˆ›å»ºä¸€ä¸ªä»¥ .mime ç»“å°¾çš„é¢å¤–æ–‡ä»¶ï¼Œæ¥å­˜å‚¨ HTTP å“åº”å¤´æä¾›çš„ mime ç±»å‹ã€‚å¦‚æœæˆ‘ä»¬ä¸‹è½½çš„æ–‡ä»¶åæ˜¯ a.tsï¼Œç„¶è€Œå“åº”å¤´é‡Œé¢æ˜¯ Content-Type: text/javascriptï¼Œä¸€ä¸ªåŒ…å«text/javascriptå†…å®¹çš„a.ts.mimeæ–‡ä»¶å°†ä¼šåœ¨ä»–æ—è¾¹è¢«åˆ›å»ºã€‚ç”±äº.mimeæ–‡ä»¶çš„å­˜åœ¨ï¼Œa.ts åé¢å°†ä¼šè¢«å½“åšä¸€ä¸ª JavaScript æ–‡ä»¶è¢« importã€‚</p>
</article><section class="is-flex is-justify-content-space-between my-6"><!-- em is empty placeholder--><a class="button is-small is-default" href="/My-Blogs/2021/01/23/%E8%81%8C%E4%B8%9A%E8%A7%84%E5%88%92/%E4%B8%AA%E4%BA%BA%E6%8A%A4%E5%9F%8E%E6%B2%B3/" title="">Previous</a><a class="button is-small is-default" href="/My-Blogs/2021/01/18/Linux/shell/%E6%96%87%E4%BB%B6/tree%E5%91%BD%E4%BB%A4%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/" title="treeå‘½ä»¤çš„åŸºæœ¬ä½¿ç”¨">Next</a></section><article class="mt-6 comment-container"><script src="https://utteranc.es/client.js" repo="529303664/My-Blogs" issue-term="pathname" theme="github-light" async></script></article></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><a title="twitter" target="_blank" rel="noopener nofollow" href="//twitter.com/https://twitter.com/Lucas55207840?s=05"><i class="iconfont icon-twitter"></i></a><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/529303664"><i class="iconfont icon-github"></i></a><!-- Ins--><a title="instagram" target="_blank" rel="noopener nofollow" href="//www.instagram.com//"><i class="iconfont icon-ins"></i></a><!-- RSS--><a title="rss" target="_blank" rel="noopener nofollow" href="/My-Blogs/atom.xml"><i class="iconfont icon-rss"></i></a><!-- çŸ¥ä¹--><!-- é¢†è‹±--><!-- è„¸ä¹¦--><a title="facebook" target="_blank" rel="noopener nofollow" href="//www.facebook.com/https://www.facebook.com/profile.php?id=100010703889793"><i class="iconfont icon-tian7_facebook"></i></a></section><p><span>Copyright Â©</span><span> Lucas 2021</span></p><div class="is-flex"><p>Powered by Hexoï½œ</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" target="_blank" rel="noopener" href="//github.com/haojen">Theme by &nbspHaojen&nbsp</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" target="_blank" rel="noopener" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script>hljs.initHighlighting();

var directory = document.querySelectorAll('.toc a')
if (directory.length > 0) {
    var contentTocList = []
    var activeClassName = 'is-active'

    directory.forEach(function (link) {
        if (!link.href) return
        var id = decodeURI(link.href).split('#')[1]
        contentTocList.push(document.getElementById(id))
    })

    var DELAY = 150
    var needWait = false
    window.addEventListener('scroll', function (evt) {
        if (needWait) {
            return
        }
        needWait = true
        var tocContainer = document.querySelector('.toc')
        setTimeout(function () {
            var spacing = 60
            var activeTopicEl = null
            var scrollTop = window.pageYOffset
            for (var i = 0; i < contentTocList.length; i++) {
                var currentTopic = contentTocList[i]

                if (currentTopic.offsetTop > scrollTop + spacing / 2) {
                    // jump to next loop
                    continue
                }

                if (!activeTopicEl) {
                    activeTopicEl = currentTopic
                } else if (currentTopic.offsetTop + spacing >= activeTopicEl.offsetTop - spacing) {
                    activeTopicEl = currentTopic
                }

                var beforeActiveEl = document.querySelector('.toc' + ' .' + activeClassName)
                beforeActiveEl && beforeActiveEl.classList.remove(activeClassName)

                var selectTarget = '.toc a[href="#' + encodeURI(activeTopicEl.id) + '"]'
                var direc = document.querySelector(selectTarget)
                direc.classList.add(activeClassName)

                var tocContainerHeight = tocContainer.getBoundingClientRect().height
                if (direc.offsetTop >= tocContainerHeight - spacing) {
                    tocContainer.scrollTo({
                        // top: direc.offsetTop - spacing,
                        top: direc.offsetTop + 100 - tocContainerHeight,
                    })
                }
                else {
                    tocContainer.scrollTo({ top: 0 })
                }
            }
            needWait = false
        }, DELAY)

    })

}</script></body></html>