extends widget/layout.pug
block append link
  link(rel='stylesheet', href= url_for('/style/post.css'))
  link(rel='stylesheet', href= url_for('/style/highlight-theme-light.css'))
  script(src= url_for("/jslib/highlight.pack.js"))

block content
    include widget/methods
    - var tocContent = toc(page.content, {list_number: false})

    main.container.is-max-widescreen.content.section.post-page.pt-4
        .columns.is-flex-desktop.is-justify-content-center
            .column.is-9
                - var imgURL = getPostCoverImg(page)
                if imgURL
                    header.post-cover
                        img(src= imgURL)
                header.mx-4.my-4
                    if page.tags && page.tags.length > 0
                        each tag in page.tags.toArray()
                            a(href= url_for(`/tags/${tag.name}`))
                                i.tag.post-item-tag= tag.name
                h1.mx-4.mt-0.mb-1= page.title
                if page.date
                    time.has-text-grey.mx-4(datetime=page.date.toJSON())= date(page.date, date_format)
                article.mx-4.post-content!= page.content
            .column.is-3.is-hidden-mobile(class= tocContent.length < 1 && 'is-hidden')
                    != tocContent
    // Next post, maybe most people don't need it.
    //#paginator!= paginator()
block script
  script hljs.initHighlighting();
